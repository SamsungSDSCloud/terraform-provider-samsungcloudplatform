---
page_title: "samsungcloudplatform_sqlserver Resource - samsungcloudplatform"
subcategory: ""
description: |-
  Provide Microsoft SQL Server resource.
---

# Resource: samsungcloudplatform_sqlserver

Provide Microsoft SQL Server resource.


## Example Usage

```terraform
data "samsungcloudplatform_region" "region" {
  filter {
    name = "location"
    values = ["KR-WEST-2"]
  }
}

data "samsungcloudplatform_obs_storages" "obs_storage" {
  service_zone_id     = data.samsungcloudplatform_region.region.id
  object_storage_name = "demo_object_storage_name"
}

data "samsungcloudplatform_standard_image" "mssql_2019_enterprise_eng_image" {
  service_group = "DATABASE"
  service = "Microsoft SQL Server"
  region = data.samsungcloudplatform_region.region.location

  filter {
    name = "image_name"
    values = ["Microsoft SQL Server 2019 Enterprise ENG"]
  }
}

resource "samsungcloudplatform_sqlserver" "my_ms_sql" {
  subnet_id = "SUBNET-12345678"
  security_group_ids = ["FIREWALL_SECURITY_GROUP-12345678", "FIREWALL_SECURITY_GROUP-87654321"]
  service_zone_id = data.samsungcloudplatform_region.region.id

  sqlserver_servers = [
    {
      sqlserver_server_name = "sqlserver-pri"
      server_role_type = "PRIMARY"
    },
    {
      sqlserver_server_name = "sqlserver-sec"
      server_role_type = "SECONDARY"
    }
  ]

  image_id = data.samsungcloudplatform_standard_image.mssql_2019_enterprise_eng_image.id
  audit_enabled = true
  contract_period = "1 Year"
  next_contract_period = "None"
  nat_enabled = false
  nat_public_ip_id = null
  postgresql_cluster_name = "sqlservercluster"
  postgresql_cluster_state = "RUNNING"

  database_service_name = "MSsql"
  database_collation = "SQL_Latin1_General_CP1_CI_AS"
  license = "AAAAA-BBBBB-CCCCC-DDDDD-EEEEE"
  database_names = ["mssql_db","mssql_db2","mssql_db3"]
  database_port = 2866
  database_user_name = "dbuser"
  database_user_password = "pa$$w0rd"

  encryption_enabled = true
  server_type = "db1v2m4"
  timezone = "Asia/Seoul"

  block_storages = [
    {
      block_storage_type = "SSD"
      block_storage_size = 10
    }
  ]

  backup = [
    {
      object_storage_id = data.samsungcloudplatform_obs_storages.obs_storage.contents[0].object_storage_id
      archive_backup_schedule_frequency = "30M"
      backup_retention_period = "15D"
      backup_start_hour = 7
      full_backup_day_of_week = "MONDAY"
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `audit_enabled` (Boolean) Whether to use database audit logging.
- `block_storages` (Block List, Min: 1, Max: 10) block storage. (see [below for nested schema](#nestedblock--block_storages))
- `contract_period` (String) Contract : None, 1-year, 3-year
- `database_collation` (String) Commands that specify how to sort and compare data
- `database_names` (List of String) Database Name List
- `database_port` (Number) Port number of this database. (1024 to 65535)
- `database_service_name` (String) MS SQL Server Database Service name
- `database_user_name` (String) User account id of database. (2 to 20 alpha-numerics)
- `database_user_password` (String, Sensitive) User account password of database.
- `encryption_enabled` (Boolean) Whether to use storage encryption.
- `image_id` (String) SQL Server standard image id.
- `license` (String, Sensitive) License key.
- `security_group_ids` (List of String) Security-Group ids of this MS SQL Server DB. Each security-group must be a valid security-group resource which is attached to the VPC.
- `server_type` (String) Whether to use storage encryption.
- `service_zone_id` (String) Service Zone Id
- `sqlserver_cluster_name` (String) Name of database cluster. (3 to 20 characters only)
- `sqlserver_cluster_state` (String) MS SQL Server cluster state
- `sqlserver_servers` (Block List, Min: 1, Max: 2) MS SQL Server servers (HA configuration when entering two server specifications) (see [below for nested schema](#nestedblock--sqlserver_servers))
- `subnet_id` (String) Subnet id of this database server. Subnet must be a valid subnet resource which is attached to the VPC.
- `timezone` (String) Timezone setting of this database.

### Optional

- `backup` (Block Set, Max: 1) (see [below for nested schema](#nestedblock--backup))
- `nat_enabled` (Boolean) Whether to use nat.
- `nat_public_ip_id` (String) Public IP for NAT. If it is null, it is automatically allocated.
- `next_contract_period` (String) Next contract : None, 1-year, 3-year
- `sqlserver_active_directory` (Block Set) MS SQL Server Active directory (see [below for nested schema](#nestedblock--sqlserver_active_directory))
- `tags` (Map of String)
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The ID of this resource.
- `nat_ip_address` (String) nat ip address
- `virtual_ip_address` (String) virtual ip address
- `vpc_id` (String) vpc id

<a id="nestedblock--block_storages"></a>
### Nested Schema for `block_storages`

Required:

- `block_storage_size` (Number) Block Storage Size (10 to 7168)
- `block_storage_type` (String) Storage product name. (SSD|HDD)

Read-Only:

- `block_storage_group_id` (String) Block storage group id


<a id="nestedblock--sqlserver_servers"></a>
### Nested Schema for `sqlserver_servers`

Required:

- `server_role_type` (String) Server role type Enter 'ACTIVE' for a single server configuration. (ACTIVE | PRIMARY | SECONDARY)",
- `sqlserver_server_name` (String) MS SQL Server database server names. (3 to 15 lowercase and number with dash and the first character should be an lowercase letter.)

Optional:

- `availability_zone_name` (String) Availability Zone Name. (AZ1 | AZ2)


<a id="nestedblock--backup"></a>
### Nested Schema for `backup`

Required:

- `archive_backup_schedule_frequency` (String) Backup File Schedule Frequency.(5M, 10M, 30M, 1H)
- `backup_retention_period` (String) Backup File Retention Day.(7D <= day <= 35D)
- `backup_start_hour` (Number) The time at which the backup starts. (from 0 to 23)
- `full_backup_day_of_week` (String) Full backup schedule(Day). (MONDAY to SUNDAY)
- `object_storage_id` (String) Object storage ID where backup files will be stored.


<a id="nestedblock--sqlserver_active_directory"></a>
### Nested Schema for `sqlserver_active_directory`

Optional:

- `ad_server_user_id` (String) Active Directory Server User ID
- `ad_server_user_password` (String, Sensitive) Active Directory Server User password
- `dns_server_ips` (List of String) Active Directory DNS Server IPs
- `domain_name` (String) Active Directory Domain name
- `domain_net_bios_name` (String) Active Directory NetBios name
- `failover_cluster_name` (String) Active Directory Failover Cluster name


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)


